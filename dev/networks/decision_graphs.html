<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Decision graphs · Decisions.jl</title><meta name="title" content="Decision graphs · Decisions.jl"/><meta property="og:title" content="Decision graphs · Decisions.jl"/><meta property="twitter:title" content="Decision graphs · Decisions.jl"/><meta name="description" content="Documentation for Decisions.jl."/><meta property="og:description" content="Documentation for Decisions.jl."/><meta property="twitter:description" content="Documentation for Decisions.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../index.html"><img src="../assets/logo.svg" alt="Decisions.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">Decisions.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Decisions.jl</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">DecisionNetworks.jl</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="dns.html">Decision networks</a></li><li class="is-active"><a class="tocitem" href="decision_graphs.html">Decision graphs</a><ul class="internal"><li><a class="tocitem" href="#Structure-of-decision-graphs"><span>Structure of decision graphs</span></a></li><li><a class="tocitem" href="#Components-of-decision-graphs"><span>Components of decision graphs</span></a></li><li><a class="tocitem" href="#Defining-decision-graphs"><span>Defining decision graphs</span></a></li><li><a class="tocitem" href="#Defining-networks-by-hand"><span>Defining networks by hand</span></a></li></ul></li><li><a class="tocitem" href="conditional_dists.html">Conditional distributions</a></li><li><a class="tocitem" href="spaces.html">Spaces</a></li><li><a class="tocitem" href="traits.html">Traits</a></li><li><a class="tocitem" href="transformations.html">Transformations</a></li><li><a class="tocitem" href="visualization.html">Visualization</a></li><li><a class="tocitem" href="interoperability.html">Interoperability</a></li><li><a class="tocitem" href="internals.html">Advanced: Internals</a></li><li><a class="tocitem" href="faqs.html">FAQs</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">DecisionProblems.jl</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../problems/metrics.html">Metrics</a></li><li><a class="tocitem" href="../problems/problems.html">Decision problems</a></li><li><a class="tocitem" href="../problems/algorithms.html">Algorithms</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">DecisionNetworks.jl</a></li><li class="is-active"><a href="decision_graphs.html">Decision graphs</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="decision_graphs.html">Decision graphs</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaDecisionMaking/Decisions.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/main/docs/src/networks/decision_graphs.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Decision-graphs"><a class="docs-heading-anchor" href="#Decision-graphs">Decision graphs</a><a id="Decision-graphs-1"></a><a class="docs-heading-anchor-permalink" href="#Decision-graphs" title="Permalink"></a></h1><p>Decision graphs are <code>Type</code>s of decision networks. More specifically, they are directed acyclic graphs without any implementations for the conditional distributions backing the nodes. Decisions.jl uses decision graphs to compile optimized code for any particular kind of decision network. Additionally, DecisionNetworks.jl allows for modifying these decision graphs to define new problem frameworks. As such, decision graphs are imbued with significantly more functionality than Julia types in general.</p><p>One can extract the decision graph from a decision network using <code>graph</code>, or just plain old <code>typeof</code>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.graph" href="#DecisionNetworks.graph"><code>DecisionNetworks.graph</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">graph(dn::DecisionNetwork)</code></pre><p>Give the decision graph for decision network <code>dn</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/networks.jl#L56-L60">source</a></section><section><div><pre><code class="language-julia hljs">graph(::DecisionProblem{M, DG})</code></pre><p>When applied to a DecisionProblem, give the DecisionGraph for its underlying model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionProblems.jl/src/problems.jl#L44-L48">source</a></section></article><h2 id="Structure-of-decision-graphs"><a class="docs-heading-anchor" href="#Structure-of-decision-graphs">Structure of decision graphs</a><a id="Structure-of-decision-graphs-1"></a><a class="docs-heading-anchor-permalink" href="#Structure-of-decision-graphs" title="Permalink"></a></h2><h3 id="Random-variable-groups"><a class="docs-heading-anchor" href="#Random-variable-groups">Random variable groups</a><a id="Random-variable-groups-1"></a><a class="docs-heading-anchor-permalink" href="#Random-variable-groups" title="Permalink"></a></h3><p>Every node of a decision graph represents a random variable, or more specifically, a <em>plate</em> of random elements (which is itself a random variable). Plates have <code>indexing variables</code>: special named variables treated like random variables which indicate which element within a plate is to be considered. Since indexing variables are treated like random variables, instead of writing <span>$p(\cdot | ...)$</span> for all <span>$i$</span> (where <code>i</code> is an indexing variable), we need only write <span>$p(\cdot | i, ...)$</span>. </p><p><code>Plate</code>s can be jointly sampled across their elements, independently sampled, or joint on some axes and independent on others. </p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.Plate" href="#DecisionNetworks.Plate"><code>DecisionNetworks.Plate</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type Plate &lt;: RVGroup</code></pre><p>Abstract base type for sampleable groups of random variables, specified over given axes, which is itself a random variable.</p><p>There can be various independence relationships between the nodes in the group. See <code>Indep</code>, <code>Joint</code>, and <code>JointAndIndep</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/groups.jl#L48-L56">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.Joint" href="#DecisionNetworks.Joint"><code>DecisionNetworks.Joint</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Joint</code></pre><p>A group of random variables that are jointly related to each other (that is, are not independent).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/groups.jl#L83-L88">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.Indep" href="#DecisionNetworks.Indep"><code>DecisionNetworks.Indep</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Indep</code></pre><p>A group of random variables that are all (conditionally) independent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/groups.jl#L72-L76">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.JointAndIndep" href="#DecisionNetworks.JointAndIndep"><code>DecisionNetworks.JointAndIndep</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">JointAndIndep</code></pre><p>A group of random variables that are jointly related on some axes and independently related on the rest.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/groups.jl#L95-L100">source</a></section></article><p>Each input into a plate is a group of random variables from another plate, which we call <em>conditioning groups</em>. <code>ConditioningGroup</code>s can condition every element of a <code>Plate</code> (many-to-many), or only those elements at corresponding indices (one-to-one).</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.ConditioningGroup" href="#DecisionNetworks.ConditioningGroup"><code>DecisionNetworks.ConditioningGroup</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type Condition &lt;: RVGroup</code></pre><p>A group of random variables specified as conditioning variables on another random variable. Cannot be sampled on its own. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/groups.jl#L108-L113">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.Dense" href="#DecisionNetworks.Dense"><code>DecisionNetworks.Dense</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Dense</code></pre><p>A group of conditioning variables that condition every random variable in any group they condition.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/groups.jl#L129-L134">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.Parallel" href="#DecisionNetworks.Parallel"><code>DecisionNetworks.Parallel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Parallel</code></pre><p>A group of conditioning variables that condition only random variables at matching indices in any group they condition (which need not be every index in either group).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/groups.jl#L117-L122">source</a></section></article><p>Plates and conditioning groups know the name of the random variable they represent, as well as the names of the indexing variables that index into them:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.name" href="#DecisionNetworks.name"><code>DecisionNetworks.name</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">name(::RVGroup)</code></pre><p>Give the name of a group of random variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/groups.jl#L20-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.indices" href="#DecisionNetworks.indices"><code>DecisionNetworks.indices</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">indices(::RVGroup)</code></pre><p>Give the names of the indexing variables for a group of random variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/groups.jl#L10-L14">source</a></section></article><h2 id="Components-of-decision-graphs"><a class="docs-heading-anchor" href="#Components-of-decision-graphs">Components of decision graphs</a><a id="Components-of-decision-graphs-1"></a><a class="docs-heading-anchor-permalink" href="#Components-of-decision-graphs" title="Permalink"></a></h2><p>Decision graphs are represented with three components: </p><ol><li>An inputs =&gt; output definition for each node, </li><li>Mappings from current-iterate to next-iterate nodes (for a dynamic decision network), and</li><li>The range of variables that index into each plate.</li></ol><p>They can all be queried of both <code>DecisionNetwork</code>s and <code>Type{&lt;:DecisionNetwork}</code>s.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.nodes" href="#DecisionNetworks.nodes"><code>DecisionNetworks.nodes</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">nodes(::DecisionGraph)
nodes(::DecisionNetwork)</code></pre><p>Give the node definitions of a decision network.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/networks.jl#L64-L69">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.dynamic_pairs" href="#DecisionNetworks.dynamic_pairs"><code>DecisionNetworks.dynamic_pairs</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dynamic_pairs(::DecisionGraph)
dynamic_pairs(::DecisionNetwork)</code></pre><p>Give the dynamic pairs for a decision network, mapping current to next iterate node names.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/networks.jl#L74-L80">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.ranges" href="#DecisionNetworks.ranges"><code>DecisionNetworks.ranges</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ranges(::DecisionGraph)
ranges(::DecisionNetwork)</code></pre><p>Give a NamedTuple defining the ranges over which plates in a decision network are defined: each key is a name of an indexing variables, and each value is the plate size along that index.</p><p>If given a <code>DecisionGraph</code> where the <code>range</code> parameter is not specified, returns <code>nothing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/networks.jl#L85-L94">source</a></section></article><p>A number of convenience functions are also provided to make navigating <code>DecisionGraph</code>s slightly easier:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.node_names" href="#DecisionNetworks.node_names"><code>DecisionNetworks.node_names</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">node_names(::DecisionGraph)
node_names(::DecisionNetwork)</code></pre><p>Give the names (as Symbols) of all random variables in a decision network.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/networks.jl#L108-L113">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.children" href="#DecisionNetworks.children"><code>DecisionNetworks.children</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">children(dn::DecisionGraph, s::Symbol)
children(dn::DecisionNetwork, s::Symbol)</code></pre><p>Give the names of all nodes in <code>dn</code> that are conditioned on <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/networks.jl#L139-L144">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.next" href="#DecisionNetworks.next"><code>DecisionNetworks.next</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">next(dn::DecisionNetwork, node)
next(dn::DecisionGraph, node)</code></pre><p>Give the next-step counterpart of <code>node</code> in a [type of] decision network <code>dn</code>.</p><p><code>dn</code> must be a dynamic decision network.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; next(MDP_DN, :s)
:sp</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/networks.jl#L175-L188">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.prev" href="#DecisionNetworks.prev"><code>DecisionNetworks.prev</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">prev(dn::DecisionNetwork, node)
prev(dn::DecisionGraph, node)</code></pre><p>Give the previous-step counterpart of <code>node</code> in a [type of] decision network <code>dn</code>.</p><p><code>dn</code> must be a dynamic decision network.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; prev(MDP_DN, :sp)
:s</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/networks.jl#L193-L206">source</a></section></article><h2 id="Defining-decision-graphs"><a class="docs-heading-anchor" href="#Defining-decision-graphs">Defining decision graphs</a><a id="Defining-decision-graphs-1"></a><a class="docs-heading-anchor-permalink" href="#Defining-decision-graphs" title="Permalink"></a></h2><p>DecisionNetworks.jl provides names for some of the most commonly used decision networks, like those that represent MDPs and POMDPs. However, if you&#39;re using this package chances are you&#39;d like to define a much wider set of problems and networks based on concepts like multiagency, semi-Markovness, decentralization, and correlation. While there are obviously too many such extensions to name, Decisions.jl provides first-class support for any network once its decision graph has been defined.</p><h3 id="Standard-Markov-family-networks"><a class="docs-heading-anchor" href="#Standard-Markov-family-networks">Standard Markov family networks</a><a id="Standard-Markov-family-networks-1"></a><a class="docs-heading-anchor-permalink" href="#Standard-Markov-family-networks" title="Permalink"></a></h3><p>Members of certain families of decision networks can be specified from a limited set of traits. In particular, the family containing most Markov-style networks - and therefore the vast majority of decision problems used today - can be defined using only six nodes and two inputs:</p><ul><li><code>s</code>: Current state</li><li><code>m</code>: Current <a href="faqs.html#What-exactly-are-the-m/mp-nodes?">memory</a></li><li><code>sp</code>: Successor state; that is, <strong>s</strong>tate-<strong>p</strong>rime. The distribution that implements it is often called the <em>transition</em>. Dynamically paired with <code>s</code>.</li><li><code>mp</code>: Successor <a href="faqs.html#What-exactly-are-the-m/mp-nodes?">memory</a>; that is, <strong>m</strong>emory-<strong>p</strong>rime (a decision node).  </li><li><code>a</code>: Action (a decision node).</li><li><code>r</code>: Reward</li><li><code>o</code>: Observation</li><li><code>τ</code>: Sojourn time (for semi-Markov models)</li></ul><p>There may also be up to two indexing variables present:</p><ul><li><code>i</code>: Index over agents.</li><li><code>j</code>: Index over multiple rewards.</li></ul><p>This the <em>standard Markov family</em>. Due to their ubiquity, Decisions.jl provides a shorthand for defining these types of networks based on the <a href="traits.html#Traits-on-decision-networks">relevant traits</a>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.@markov_alias" href="#DecisionNetworks.@markov_alias"><code>DecisionNetworks.@markov_alias</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@markov_alias(name, traits)</code></pre><p>Build a type alias and constructor for a standard Markov decision network with the given <code>traits</code>.</p><p><code>traits</code> is expected to be a <code>MarkovAmbiguousTraits</code>. If any traits are ambiguous, a Union over the possible decision graphs is defined. Otherwise, a single decision graph is defined.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/std_family.jl#L166-L174">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.MarkovAmbiguousTraits" href="#DecisionNetworks.MarkovAmbiguousTraits"><code>DecisionNetworks.MarkovAmbiguousTraits</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MarkovAmbiguousTraits
MarkovAmbiguousTraits(pairs...)</code></pre><p>A collection of traits for a standard Markov family problem.</p><p><code>pairs</code> are <code>Trait =&gt; TraitValue</code> mappings; e.g., <code>Multiagency =&gt; NoAgent()</code>. Any traits that are not defined default using <code>markov_default</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/std_family.jl#L12-L20">source</a></section></article><h3 id="Named-network-types"><a class="docs-heading-anchor" href="#Named-network-types">Named network types</a><a id="Named-network-types-1"></a><a class="docs-heading-anchor-permalink" href="#Named-network-types" title="Permalink"></a></h3><p>A few exceptionally important decision graphs have aliases provided by Decisions.jl. They are all members of the <a href="decision_graphs.html#Standard-Markov-family-networks">standard Markov family</a>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.MDP_DN" href="#DecisionNetworks.MDP_DN"><code>DecisionNetworks.MDP_DN</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MDP_DN</code></pre><p>Canonical decision network underlying a Markov decision process.</p><p>Assumes the memory node is not present and the reward is conditioned on <code>(:s, :a, :sp)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/std_networks.jl#L56-L62">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.POMDP_DN" href="#DecisionNetworks.POMDP_DN"><code>DecisionNetworks.POMDP_DN</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">POMDP_DN</code></pre><p>Canonical decision network underlying a partially observable Markov decision process.</p><p>Assumes the memory node is present and the reward is conditioned on <code>(:s, :a, :sp)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/std_networks.jl#L65-L71">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.MG_DN" href="#DecisionNetworks.MG_DN"><code>DecisionNetworks.MG_DN</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MG_DN</code></pre><p>Canonical decision network underlying a Markov game.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/std_networks.jl#L88-L93">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionNetworks.DecPOMDP_DN" href="#DecisionNetworks.DecPOMDP_DN"><code>DecisionNetworks.DecPOMDP_DN</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DecPOMDP_DN</code></pre><p>Canonical decision network underlying a decentralized partially observable Markov decision process.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionMaking/Decisions.jl/blob/a3c2e6ba82992d80ee4dc8812c34f99b74e309ee/DecisionNetworks.jl/src/std_networks.jl#L97-L102">source</a></section></article><p>You can use <a href="transformations.html#Transformations">transformations</a> to transform these networks into your specific target.</p><h2 id="Defining-networks-by-hand"><a class="docs-heading-anchor" href="#Defining-networks-by-hand">Defining networks by hand</a><a id="Defining-networks-by-hand-1"></a><a class="docs-heading-anchor-permalink" href="#Defining-networks-by-hand" title="Permalink"></a></h2><p>If the type of decision network you&#39;d like to work with isn&#39;t a standard Markov problem, and can&#39;t easily be transformed from one, you may want to define it by hand.</p><p>A new type of decision network can be defined with the <code>DecisionGraph</code> constructor:</p><ul><li><code>nodes</code> is a list of pairs, each one mapping node inputs (as <code>ConditioningGroup</code>s) to an output (as a <code>Plate</code>). </li><li><code>dynamic_pairs</code> is a NamedTuple mapping current-iterate to future-iterate node names.</li><li><code>ranges</code> is a NamedTuple mapping indexing variable names to lengths.</li></ul><p>For instance, we might want to define a mixed observability Markov decision problem with a memory node. MOMDP networks aren&#39;t standard Markov networks due to the factored state, so we should just define them manually:</p><pre><code class="language-julia hljs">const MOMDP = DecisionGraph(
  [ # Six regular nodes (:xp, :yp, :r, :o, :mp, :a)
    (Dense(:x), Dense(:y), Dense(:a)) =&gt; Joint(:xp),
    (Dense(:x), Dense(:y), Dense(:a), Dense(:xp)) =&gt; Joint(:yp),
    (Dense(:x), Dense(:y), Dense(:a)) =&gt; Joint(:r),
    (Dense(:x), Dense(:y), Dense(:a)) =&gt; Joint(:o),
    (Dense(:x), Dense(:o), Dense(:a), Dense(:m)) =&gt; Joint(:mp),
    (Dense(:m),) =&gt; Joint(:a),
  ],
  (; # Three dynamic nodes (:x, :y, :m)
    :x =&gt; :xp,
    :y =&gt; :yp,
    :m =&gt; :mp
  ),
  (;) # No ranges
)

# Create a MOMDP with no node implementations at all
my_empty_MOMDP = MOMDP(;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">DecisionNetwork{…}:
a  | m          <span class="sgr90">  (no dist)</span>
mp | a, m, o, x <span class="sgr90">  (no dist)</span>
o  | a, x, y    <span class="sgr90">  (no dist)</span>
r  | a, x, y    <span class="sgr90">  (no dist)</span>
xp | a, x, y    <span class="sgr90">  (no dist)</span>
yp | a, x, xp, y<span class="sgr90">  (no dist)</span>
m  =&gt; mp
x  =&gt; xp
y  =&gt; yp</code></pre><p>To visually double-check that your new decision graph is correct, use <a href="visualization.html#DecisionNetworks.dnplot"><code>dnplot</code></a> (though be aware that networks with many nodes may render poorly):</p><pre><code class="language-julia hljs">dnplot(MOMDP)</code></pre><img src="decision_graphs-27d5f191.svg" alt="Example block output"/><div class="admonition is-success" id="Tip-4853366a6b1af5c1"><header class="admonition-header">Tip<a class="admonition-anchor" href="#Tip-4853366a6b1af5c1" title="Permalink"></a></header><div class="admonition-body"><p>For performance reasons, when defining a new decision graph for use later, it&#39;s recommended to mark it as <code>const</code>.</p></div></div><div class="admonition is-warning" id="Warning-e0917dbc388b35d2"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-e0917dbc388b35d2" title="Permalink"></a></header><div class="admonition-body"><p>Use the <code>DecisionGraph</code> constructor to get a <code>Type{&lt;:DecisionNetwork}</code> rather than using <code>DecisionNetwork{...}</code> directly. This ensures that <code>nodes</code> and other parameters of the decision graph can have enforced structures (for instance, order invariance on inputs) to prevent ambuguity.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="dns.html">« Decision networks</a><a class="docs-footer-nextpage" href="conditional_dists.html">Conditional distributions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Monday 15 September 2025 18:56">Monday 15 September 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
